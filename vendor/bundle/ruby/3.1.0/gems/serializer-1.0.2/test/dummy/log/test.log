  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:34:14', '2013-10-30 00:34:14', 593363170)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:34:14', '2013-10-30 00:34:14', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:34:14', '2013-10-30 00:34:14', 815823836)
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:34:14 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:34:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:34:14 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:34:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:34:14 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.9ms)
Completed 200 OK in 40ms (Views: 39.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSubscription Load (0.1ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["id", 815823837]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [[nil, {:notifications=>true}], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["settings", "---\n:notifications: true\n"]]
TypeError: can't cast Hash: UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:34:15 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (6.4ms)
  Rendered users/_form.html.haml (12.9ms)
Completed 200 OK in 18ms (Views: 17.8ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:34:15 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:34:15 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.2ms)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [[nil, {:fb_share=>false, :tw_share=>false, :tb_share=>false}], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
TypeError: can't cast Hash: UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:34:15 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.9ms)
  Rendered users/_form.html.haml (4.3ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.1ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:34:15 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:34:15 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:34:15 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:34:14 UTC", "updated_at"=>"2013-10-30 00:34:14 UTC"}}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:34:14 UTC", "updated_at"=>"2013-10-30 00:34:14 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:40:02', '2013-10-30 00:40:02', 593363170)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:40:02', '2013-10-30 00:40:02', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:40:02', '2013-10-30 00:40:02', 815823836)
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["account_id", 593363171]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.9ms)
Completed 200 OK in 21ms (Views: 20.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSubscription Load (0.1ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:40:02 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (6.8ms)
  Rendered users/_form.html.haml (9.4ms)
Completed 500 Internal Server Error in 14ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:40:02 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.4ms)
  Rendered users/_form.html.haml (2.0ms)
Completed 500 Internal Server Error in 4ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:40:02 UTC", "updated_at"=>"2013-10-30 00:40:02 UTC"}}
Completed 500 Internal Server Error in 0ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (1.7ms)
Completed 500 Internal Server Error in 3ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (1.4ms)
Completed 500 Internal Server Error in 2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (1.8ms)
Completed 500 Internal Server Error in 7ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:40:02 UTC", "updated_at"=>"2013-10-30 00:40:02 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:40:17', '2013-10-30 00:40:17', 593363170)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:40:17', '2013-10-30 00:40:17', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:40:17', '2013-10-30 00:40:17', 815823836)
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.8ms)
Completed 200 OK in 19ms (Views: 19.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSubscription Load (0.1ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["id", 815823837]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [[nil, {:notifications=>true}], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["settings", "---\n:notifications: true\n"]]
TypeError: can't cast Hash: UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:40:17 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (6.0ms)
  Rendered users/_form.html.haml (30.5ms)
Completed 200 OK in 36ms (Views: 35.1ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:40:17 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:40:17 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [[nil, {:fb_share=>false, :tw_share=>false, :tb_share=>false}], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
TypeError: can't cast Hash: UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:40:17 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:40:17 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:40:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:40:17 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:40:17 UTC", "updated_at"=>"2013-10-30 00:40:17 UTC"}}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.1ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (3.4ms)
  Rendered users/_form.html.haml (4.9ms)
Completed 200 OK in 6ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.5ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:40:17 UTC", "updated_at"=>"2013-10-30 00:40:17 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:42:30', '2013-10-30 00:42:30', 593363170)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:42:30', '2013-10-30 00:42:30', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:42:30', '2013-10-30 00:42:30', 815823836)
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.8ms)
Completed 200 OK in 20ms (Views: 19.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSubscription Load (0.0ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:42:30 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (7.2ms)
  Rendered users/_form.html.haml (13.8ms)
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:42:30 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 26ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:42:30 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:42:30 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:42:30 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:42:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:42:30 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:42:30 UTC", "updated_at"=>"2013-10-30 00:42:30 UTC"}}
Completed 500 Internal Server Error in 0ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:42:30 UTC", "updated_at"=>"2013-10-30 00:42:30 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
Completed 500 Internal Server Error in 1ms
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:45:47', '2013-10-30 00:45:47', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:45:47', '2013-10-30 00:45:47', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:45:47', '2013-10-30 00:45:47', 815823836)
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
WARNING: Can't mass-assign protected attributes for Account: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/account_test.rb:8:in `block in <class:AccountTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["account_id", 593363171]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
WARNING: Can't mass-assign protected attributes for Account: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:64:in `block in update_attributes'
	activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:63:in `update_attributes'
	test/unit/account_test.rb:21:in `block in <class:AccountTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.8ms)
Completed 200 OK in 19ms (Views: 18.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
WARNING: Can't mass-assign protected attributes for Subscription: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:64:in `block in update_attributes'
	activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:63:in `update_attributes'
	test/unit/subscription_test.rb:11:in `block in <class:SubscriptionTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:45:47 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (6.1ms)
  Rendered users/_form.html.haml (13.8ms)
Completed 200 OK in 19ms (Views: 18.6ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:45:47 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 26ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:45:47 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
WARNING: Can't mass-assign protected attributes for User: name, email
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/user_test.rb:97:in `block in <class:UserTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
WARNING: Can't mass-assign protected attributes for User: name, email
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/user_test.rb:103:in `block in <class:UserTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
WARNING: Can't mass-assign protected attributes for User: name, email
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/user_test.rb:75:in `block in <class:UserTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign protected attributes for User: name, email
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/user_test.rb:76:in `block in <class:UserTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
WARNING: Can't mass-assign protected attributes for User: name, email
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/user_test.rb:86:in `block in <class:UserTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
WARNING: Can't mass-assign protected attributes for User: name, email
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/user_test.rb:87:in `block in <class:UserTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
WARNING: Can't mass-assign protected attributes for User: name, email
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/user_test.rb:67:in `block in <class:UserTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
WARNING: Can't mass-assign protected attributes for User: name, email
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/user_test.rb:8:in `block in <class:UserTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
WARNING: Can't mass-assign protected attributes for User: name, email, fb_share, tw_share, tb_share
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/user_test.rb:33:in `block in <class:UserTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
WARNING: Can't mass-assign protected attributes for User: name, email, fb_share, tw_share, tb_share
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/user_test.rb:50:in `block in <class:UserTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:45:47 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.8ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.1ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:45:47 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:45:47 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:45:47 UTC", "updated_at"=>"2013-10-30 00:45:47 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, name, email, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2000965255097611427__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:45:47 UTC", "updated_at"=>"2013-10-30 00:45:47 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, name, email, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2000965255097611427__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 00:45:47 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:47:23', '2013-10-30 00:47:23', 593363170)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:47:23', '2013-10-30 00:47:23', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:47:23', '2013-10-30 00:47:23', 815823836)
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
WARNING: Can't mass-assign protected attributes for Account: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/account_test.rb:8:in `block in <class:AccountTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["account_id", 593363171]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
WARNING: Can't mass-assign protected attributes for Account: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:64:in `block in update_attributes'
	activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:63:in `update_attributes'
	test/unit/account_test.rb:21:in `block in <class:AccountTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.9ms)
Completed 200 OK in 20ms (Views: 19.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
WARNING: Can't mass-assign protected attributes for Subscription: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:64:in `block in update_attributes'
	activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:63:in `update_attributes'
	test/unit/subscription_test.rb:11:in `block in <class:SubscriptionTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:47:23 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (6.3ms)
  Rendered users/_form.html.haml (13.9ms)
Completed 200 OK in 19ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:47:23 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 27ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:47:23 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.3ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.1ms)
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836[0m  [["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:47:23 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.4ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:47:23 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:47:23 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:47:23 UTC", "updated_at"=>"2013-10-30 00:47:23 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3601310906917308100__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.1ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:47:23 UTC", "updated_at"=>"2013-10-30 00:47:23 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3601310906917308100__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Wed, 30 Oct 2013 00:47:23 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (3.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:47:43', '2013-10-30 00:47:43', 593363170)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:47:43', '2013-10-30 00:47:43', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:47:43', '2013-10-30 00:47:43', 815823836)
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
WARNING: Can't mass-assign protected attributes for Account: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/account_test.rb:8:in `block in <class:AccountTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["account_id", 593363171]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
WARNING: Can't mass-assign protected attributes for Account: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:64:in `block in update_attributes'
	activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:63:in `update_attributes'
	test/unit/account_test.rb:21:in `block in <class:AccountTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (2.7ms)
Completed 200 OK in 24ms (Views: 23.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.2ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
WARNING: Can't mass-assign protected attributes for Subscription: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:64:in `block in update_attributes'
	activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:63:in `update_attributes'
	test/unit/subscription_test.rb:11:in `block in <class:SubscriptionTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:47:43 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (7.9ms)
  Rendered users/_form.html.haml (14.7ms)
Completed 200 OK in 21ms (Views: 20.7ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:47:43 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 38ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:47:43 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.3ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836[0m  [["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:47:43 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.2ms)
  Rendered users/_form.html.haml (2.6ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:47:43 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:47:43 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:47:43 UTC", "updated_at"=>"2013-10-30 00:47:43 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__4319500466466955096__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.7ms)
  Rendered users/_form.html.haml (3.9ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:47:43 UTC", "updated_at"=>"2013-10-30 00:47:43 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__4319500466466955096__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Wed, 30 Oct 2013 00:47:43 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:48:33', '2013-10-30 00:48:33', 593363170)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:48:33', '2013-10-30 00:48:33', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:48:33', '2013-10-30 00:48:33', 815823836)
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
WARNING: Can't mass-assign protected attributes for Account: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/account_test.rb:8:in `block in <class:AccountTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["account_id", 593363171]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
WARNING: Can't mass-assign protected attributes for Account: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:64:in `block in update_attributes'
	activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:63:in `update_attributes'
	test/unit/account_test.rb:21:in `block in <class:AccountTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.8ms)
Completed 200 OK in 19ms (Views: 18.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.2ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
WARNING: Can't mass-assign protected attributes for Subscription: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:64:in `block in update_attributes'
	activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:63:in `update_attributes'
	test/unit/subscription_test.rb:11:in `block in <class:SubscriptionTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:48:33 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (6.7ms)
  Rendered users/_form.html.haml (35.9ms)
Completed 200 OK in 41ms (Views: 40.9ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:48:33 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:48:33 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.2ms)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836[0m  [["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:48:33 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.7ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:48:33 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:48:33 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:48:33 UTC", "updated_at"=>"2013-10-30 00:48:33 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1387559674928925395__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.5ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:48:33 UTC", "updated_at"=>"2013-10-30 00:48:33 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1387559674928925395__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Wed, 30 Oct 2013 00:48:33 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:49:38', '2013-10-30 00:49:38', 593363170)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:49:38', '2013-10-30 00:49:38', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:49:38', '2013-10-30 00:49:38', 815823836)
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
WARNING: Can't mass-assign protected attributes for Account: name, user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/account_test.rb:8:in `block in <class:AccountTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
WARNING: Can't mass-assign protected attributes for Account: name
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	test/unit/account_test.rb:18:in `block in <class:AccountTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "accounts" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["account_id", 593363171]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
WARNING: Can't mass-assign protected attributes for Account: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:64:in `block in update_attributes'
	activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:63:in `update_attributes'
	test/unit/account_test.rb:21:in `block in <class:AccountTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.7ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
WARNING: Can't mass-assign protected attributes for Subscription: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:64:in `block in update_attributes'
	activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:63:in `update_attributes'
	test/unit/subscription_test.rb:11:in `block in <class:SubscriptionTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:49:38 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (6.2ms)
  Rendered users/_form.html.haml (35.5ms)
Completed 200 OK in 41ms (Views: 40.4ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:49:38 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:49:38 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.2ms)
Completed 200 OK in 19ms (Views: 17.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836[0m  [["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:49:38 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:49:38 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:49:38 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:49:38 UTC", "updated_at"=>"2013-10-30 00:49:38 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1567098378864399416__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:49:38 UTC", "updated_at"=>"2013-10-30 00:49:38 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1567098378864399416__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Wed, 30 Oct 2013 00:49:38 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:51:28', '2013-10-30 00:51:28', 593363170)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:51:28', '2013-10-30 00:51:28', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:51:28', '2013-10-30 00:51:28', 815823836)
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (2.2ms)
Completed 200 OK in 19ms (Views: 18.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
WARNING: Can't mass-assign protected attributes for Subscription: user_attributes
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:64:in `block in update_attributes'
	activerecord (4.0.0) lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'
	activerecord (4.0.0) lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:209:in `transaction'
	activerecord (4.0.0) lib/active_record/transactions.rb:323:in `with_transaction_returning_status'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:63:in `update_attributes'
	test/unit/subscription_test.rb:11:in `block in <class:SubscriptionTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:51:28 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (6.8ms)
  Rendered users/_form.html.haml (33.5ms)
Completed 200 OK in 39ms (Views: 38.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:51:28 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:51:28 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.3ms)
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836[0m  [["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:51:28 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:51:28 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:51:28 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:51:28 UTC", "updated_at"=>"2013-10-30 00:51:28 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3831404091675990850__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:51:28 UTC", "updated_at"=>"2013-10-30 00:51:28 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3831404091675990850__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Wed, 30 Oct 2013 00:51:28 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:51:54', '2013-10-30 00:51:54', 593363170)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:51:54', '2013-10-30 00:51:54', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:51:54', '2013-10-30 00:51:54', 815823836)
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.7ms)
Completed 200 OK in 23ms (Views: 23.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSubscription Load (0.0ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:51:54 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (8.8ms)
  Rendered users/_form.html.haml (40.7ms)
Completed 200 OK in 46ms (Views: 45.7ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:51:54 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:51:54 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 18ms (Views: 17.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:51:54 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:51:54 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:51:54 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:51:54 UTC", "updated_at"=>"2013-10-30 00:51:54 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1069600605888902569__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.1ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:51:54 UTC", "updated_at"=>"2013-10-30 00:51:54 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1069600605888902569__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 00:51:54 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "accounts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.6ms)[0m  [1mCREATE INDEX "index_subscriptions_on_user_id" ON "subscriptions" ("user_id")[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "account_id" integer, "name" varchar(255), "email" varchar(255), "settings" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.6ms)[0m  [1mCREATE INDEX "index_users_on_account_id" ON "users" ("account_id")[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.6ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130207030140')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110927222742')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120731074843')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:57:51', '2013-10-30 00:57:51', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:57:51', '2013-10-30 00:57:51', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:57:51', '2013-10-30 00:57:51', 815823836)
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.2ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (2.0ms)
Completed 200 OK in 22ms (Views: 21.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:57:51 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSubscription Load (0.0ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:57:51 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (7.5ms)
  Rendered users/_form.html.haml (42.3ms)
Completed 200 OK in 49ms (Views: 48.8ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:57:52 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:57:52 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.4ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:57:52 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.5ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:57:52 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:57:52 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:57:51 UTC", "updated_at"=>"2013-10-30 00:57:51 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3328770160749473624__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.5ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.5ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:57:51 UTC", "updated_at"=>"2013-10-30 00:57:51 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3328770160749473624__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 00:57:52 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:58:49', '2013-10-30 00:58:49', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:58:49', '2013-10-30 00:58:49', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:58:49', '2013-10-30 00:58:49', 815823836)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:58:49 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 00:58:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSubscription Load (0.1ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["id", 815823837]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [[nil, {:notifications=>true}], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["settings", "---\n:notifications: true\n"]]
TypeError: can't cast Hash: UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:58:50 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (30.2ms)
  Rendered users/_form.html.haml (35.0ms)
Completed 200 OK in 40ms (Views: 39.0ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:58:50 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:58:50 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.0ms)
Completed 200 OK in 16ms (Views: 15.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [[nil, {:fb_share=>false, :tw_share=>false, :tb_share=>false}], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
TypeError: can't cast Hash: UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:58:50 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:58:50 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:58:50 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:58:49 UTC", "updated_at"=>"2013-10-30 00:58:49 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1539299948210759736__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.3ms)
  Rendered users/_form.html.haml (2.8ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (1.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:58:49 UTC", "updated_at"=>"2013-10-30 00:58:49 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1539299948210759736__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 00:58:50 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 00:59:41', '2013-10-30 00:59:41', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 00:59:41', '2013-10-30 00:59:41', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 00:59:41', '2013-10-30 00:59:41', 815823836)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSubscription Load (0.0ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 17:59:41 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (4.2ms)
  Rendered users/_form.html.haml (35.4ms)
Completed 200 OK in 40ms (Views: 39.3ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:59:41 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:59:41 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.0ms)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 17:59:41 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.4ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 17:59:41 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 17:59:41 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:59:41 UTC", "updated_at"=>"2013-10-30 00:59:41 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__221928878041010981__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.8ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (1.8ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 00:59:41 UTC", "updated_at"=>"2013-10-30 00:59:41 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__221928878041010981__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 00:59:41 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 01:00:02', '2013-10-30 01:00:02', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 01:00:02', '2013-10-30 01:00:02', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 01:00:02', '2013-10-30 01:00:02', 815823836)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSubscription Load (0.0ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 18:00:02 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (4.2ms)
  Rendered users/_form.html.haml (33.8ms)
Completed 200 OK in 38ms (Views: 37.3ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:00:02 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:00:02 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 18:00:02 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:00:02 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:00:02 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:00:02 UTC", "updated_at"=>"2013-10-30 01:00:02 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1811197603142129119__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (1.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:00:02 UTC", "updated_at"=>"2013-10-30 01:00:02 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1811197603142129119__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 01:00:02 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 01:01:48', '2013-10-30 01:01:48', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 01:01:48', '2013-10-30 01:01:48', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 01:01:48', '2013-10-30 01:01:48', 815823836)
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["user_id", 815823837]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSubscription Load (0.2ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["id", 815823837]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [[nil, {:notifications=>true}], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["settings", "---\n:notifications: true\n"]]
TypeError: can't cast Hash: UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 18:01:48 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (22.9ms)
  Rendered users/_form.html.haml (27.7ms)
Completed 200 OK in 31ms (Views: 31.0ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:01:48 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:01:48 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.3ms)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [[nil, {:fb_share=>false, :tw_share=>false, :tb_share=>false}], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
TypeError: can't cast Hash: UPDATE "users" SET "settings" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 18:01:48 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (2.0ms)
  Rendered users/_form.html.haml (4.7ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.1ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:01:48 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:01:48 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:01:48 UTC", "updated_at"=>"2013-10-30 01:01:48 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3323968788745883098__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (2.1ms)
  Rendered users/_form.html.haml (4.5ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:01:48 UTC", "updated_at"=>"2013-10-30 01:01:48 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3323968788745883098__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 01:01:48 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 01:04:40', '2013-10-30 01:04:40', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 01:04:40', '2013-10-30 01:04:40', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 01:04:40', '2013-10-30 01:04:40', 815823836)
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:04:40 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:04:40 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:04:40 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:04:40 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSubscription Load (0.0ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 18:04:41 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (4.6ms)
  Rendered users/_form.html.haml (32.5ms)
Completed 200 OK in 37ms (Views: 36.1ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:04:41 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:04:41 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.0ms)
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 18:04:41 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.4ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:04:41 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:04:41 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:04:40 UTC", "updated_at"=>"2013-10-30 01:04:40 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__604786011265116691__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.5ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:04:40 UTC", "updated_at"=>"2013-10-30 01:04:40 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__604786011265116691__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 01:04:41 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 01:09:20', '2013-10-30 01:09:20', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 01:09:20', '2013-10-30 01:09:20', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 01:09:20', '2013-10-30 01:09:20', 815823836)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 18:09:20 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (31.1ms)
  Rendered users/_form.html.haml (36.7ms)
Completed 200 OK in 41ms (Views: 40.1ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:09:20 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:09:20 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.0ms)
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 18:09:20 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.5ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:09:20 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:09:20 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:09:20 UTC", "updated_at"=>"2013-10-30 01:09:20 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1259126904485469667__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.4ms)
  Rendered users/_form.html.haml (3.1ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (2.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:09:20 UTC", "updated_at"=>"2013-10-30 01:09:20 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1259126904485469667__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Wed, 30 Oct 2013 01:09:20 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 01:09:33', '2013-10-30 01:09:33', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 01:09:33', '2013-10-30 01:09:33', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 01:09:33', '2013-10-30 01:09:33', 815823836)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 18:09:33 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (31.6ms)
  Rendered users/_form.html.haml (37.7ms)
Completed 200 OK in 42ms (Views: 41.5ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:09:33 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:09:33 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 18:09:33 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.4ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:09:33 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:09:33 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:09:33 UTC", "updated_at"=>"2013-10-30 01:09:33 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2188456872768417472__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (1.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:09:33 UTC", "updated_at"=>"2013-10-30 01:09:33 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2188456872768417472__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Wed, 30 Oct 2013 01:09:33 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "accounts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "subscriptions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.7ms)[0m  [1mCREATE INDEX "index_subscriptions_on_user_id" ON "subscriptions" ("user_id")[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "account_id" integer, "name" varchar(255), "email" varchar(255), "settings" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.7ms)[0m  [1mCREATE INDEX "index_users_on_account_id" ON "users" ("account_id")[0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20130207030140')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110927222742')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20120731074843')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 01:13:14', '2013-10-30 01:13:14', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 01:13:14', '2013-10-30 01:13:14', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 01:13:14', '2013-10-30 01:13:14', 815823836)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (2.2ms)
Completed 200 OK in 23ms (Views: 23.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 18:13:14 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (4.5ms)
  Rendered users/_form.html.haml (33.0ms)
Completed 200 OK in 38ms (Views: 37.0ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:13:14 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:13:14 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.0ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 18:13:14 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.4ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:13:14 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:13:14 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:13:14 UTC", "updated_at"=>"2013-10-30 01:13:14 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__4140669335329112664__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.3ms)
  Rendered users/_form.html.haml (2.7ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (1.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:13:14 UTC", "updated_at"=>"2013-10-30 01:13:14 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__4140669335329112664__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Wed, 30 Oct 2013 01:13:14 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 01:17:09', '2013-10-30 01:17:09', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 01:17:09', '2013-10-30 01:17:09', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 01:17:09', '2013-10-30 01:17:09', 815823836)
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.2ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 18:17:09 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (4.3ms)
  Rendered users/_form.html.haml (10.5ms)
Completed 200 OK in 39ms (Views: 38.6ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:17:09 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:17:09 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 18:17:09 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.2ms)
  Rendered users/_form.html.haml (2.5ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 18:17:09 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 18:17:09 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:17:09 UTC", "updated_at"=>"2013-10-30 01:17:09 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1832629337270672955__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.5ms)
  Rendered users/_form.html.haml (2.9ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (2.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 01:17:09 UTC", "updated_at"=>"2013-10-30 01:17:09 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1832629337270672955__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Wed, 30 Oct 2013 01:17:09 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mSELECT name FROM sqlite_master WHERE type = 'table' AND name = "accounts"[0m
  [1m[35mFixture Delete (2.0ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (2.0ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 02:58:20', '2013-10-30 02:58:20', 593363170)[0m
  [1m[35m (0.0ms)[0m  SELECT name FROM sqlite_master WHERE type = 'table' AND name = "users"
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 02:58:20', '2013-10-30 02:58:20', 593363170, 593363170)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 02:58:20', '2013-10-30 02:58:20', 815823836)[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[35mSavepoint (3.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES ('2013-10-30 02:58:20.870000', 'Personal', '2013-10-30 02:58:20.870000')[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (593363171, '2013-10-30 02:58:20.879000', '---
:tw_share: false
:fb_share: false
:tb_share: true
', '2013-10-30 02:58:20.879000')
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAccount Load (1.0ms)[0m  SELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = 593363171 ORDER BY "accounts"."id" ASC LIMIT 1
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[36mSavepoint (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES ('2013-10-30 02:58:20.921000', 'Personal', '2013-10-30 02:58:20.921000')
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSavepoint (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (593363171, '2013-10-30 02:58:20.929000', '--- {}
', '2013-10-30 02:58:20.929000')[0m
  [1m[35mSavepoint (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."account_id" = 593363171 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mSavepoint (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "account_id" = NULL, "updated_at" = '2013-10-30 02:58:20.946000', "settings" = '--- {}
' WHERE "users"."id" = 815823837[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (593363171, '2013-10-30 02:58:20.956000', '---
:tw_share: true
:fb_share: false
:tb_share: true
', '2013-10-30 02:58:20.956000')
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (9.0ms)
Completed 200 OK in 152ms (Views: 151.0ms | ActiveRecord: 0.0ms)
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[35mSavepoint (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES ('2013-10-30 02:58:21.193000', '--- {}
', '2013-10-30 02:58:21.193000')[0m
  [1m[35mSavepoint (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSELECT name FROM sqlite_master WHERE type = 'table' AND name = "subscriptions"[0m
  [1m[35mSavepoint (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES ('2013-10-30 02:58:21.242000', '2013-10-30 02:58:21.242000', 815823837)[0m
  [1m[35mSavepoint (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (1.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = 815823837 ORDER BY "subscriptions"."id" ASC LIMIT 1[0m
  [1m[35mSavepoint (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 815823837 ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "settings" = '---
:notifications: true
', "updated_at" = '2013-10-30 02:58:21.266000' WHERE "users"."id" = 815823837
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 815823837 LIMIT 1
  [1m[36mSubscription Load (1.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = 815823837 ORDER BY "subscriptions"."id" ASC LIMIT 1[0m
  [1m[35mSavepoint (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.0ms)[0m  [1mUPDATE "users" SET "settings" = '---
:notifications: false
', "updated_at" = '2013-10-30 02:58:21.290000' WHERE "users"."id" = 815823837[0m
  [1m[35mSavepoint (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 815823837 LIMIT 1[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 19:58:21 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (30.0ms)
  Rendered users/_form.html.haml (98.0ms)
Completed 200 OK in 128ms (Views: 123.0ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1
Started POST "/users" for 127.0.0.1 at 2013-10-29 19:58:21 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36mSavepoint (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES ('2013-10-30 02:58:21.509000', '--- {}
', '2013-10-30 02:58:21.509000')
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 22ms (ActiveRecord: 1.0ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 19:58:21 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 815823837 LIMIT 1
  Rendered users/_user.html.haml (9.0ms)
Completed 200 OK in 580ms (Views: 577.0ms | ActiveRecord: 0.0ms)
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36mSavepoint (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.124000', 'kevin@example.com', 'Kevin', '--- {}
', '2013-10-30 02:58:22.124000')
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35mSavepoint (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.137000', 'kevin@example.com', 'Kevin', '--- {}
', '2013-10-30 02:58:22.137000')[0m
  [1m[35mSavepoint (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36mSavepoint (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.148000', 'alpha@example.com', 'Alpha', '--- {}
', '2013-10-30 02:58:22.148000')
  [1m[36mSavepoint (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSavepoint (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.156000', 'omega@example.com', 'Omega', '--- {}
', '2013-10-30 02:58:22.156000')[0m
  [1m[35mSavepoint (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36mSavepoint (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.167000', 'alpha@example.com', 'Alpha', '--- {}
', '2013-10-30 02:58:22.167000')
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSavepoint (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.175000', 'omega@example.com', 'Omega', '--- {}
', '2013-10-30 02:58:22.175000')[0m
  [1m[35mSavepoint (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36mSavepoint (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.186000', 'kevin@example.com', 'Kevin', '--- {}
', '2013-10-30 02:58:22.186000')
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35mSavepoint (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.199000', 'kevin@example.com', 'Kevin', '--- {}
', '2013-10-30 02:58:22.199000')[0m
  [1m[35mSavepoint (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36mSavepoint (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.214000', 'kevin@example.com', 'Kevin', '---
:fb_share: false
:tw_share: false
:tb_share: false
', '2013-10-30 02:58:22.214000')
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSavepoint (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "settings" = '---
:fb_share: true
:tw_share: true
:tb_share: true
', "updated_at" = '2013-10-30 02:58:22.224000' WHERE "users"."id" = 815823837[0m
  [1m[35mSavepoint (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 815823836 LIMIT 1[0m
  [1m[35mSavepoint (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "settings" = '---
:fb_share: false
:tw_share: false
:tb_share: false
', "updated_at" = '2013-10-30 02:58:22.242000' WHERE "users"."id" = 815823836[0m
  [1m[35mSavepoint (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36mSavepoint (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.253000', 'kevin@example.com', 'Kevin', '---
:fb_share: true
:tw_share: true
:tb_share: true
', '2013-10-30 02:58:22.253000')
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSavepoint (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "settings" = '---
:fb_share: false
:tw_share: false
:tb_share: false
', "updated_at" = '2013-10-30 02:58:22.261000' WHERE "users"."id" = 815823837[0m
  [1m[35mSavepoint (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1[0m
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 19:58:22 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1
  Rendered users/_fields.html.haml (6.0ms)
  Rendered users/_form.html.haml (14.0ms)
Completed 200 OK in 28ms (Views: 25.0ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 19:58:22 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36mSavepoint (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.318000', '--- {}
', '2013-10-30 02:58:22.318000')
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 13ms (ActiveRecord: 1.0ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 19:58:22 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 815823837 LIMIT 1
  Rendered users/_user.html.haml (1.0ms)
Completed 200 OK in 14ms (Views: 8.0ms | ActiveRecord: 0.0ms)
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 02:58:20 UTC", "updated_at"=>"2013-10-30 02:58:20 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:46:in `process_removed_attributes'
	/Users/kevin/.rbenv/versions/jruby-1.7.6/lib/ruby/1.9/logger.rb:371:in `add'
	/Users/kevin/.rbenv/versions/jruby-1.7.6/lib/ruby/1.9/logger.rb:443:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:386:in `_run__1072049242__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:19:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `assert_difference'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `test_should_create_user'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `_run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:70:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:70:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `autorun'
  [1m[36mSavepoint (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES ('2013-10-30 02:58:22.387000', 'info@example.com', 'Kevin', '--- {}
', '2013-10-30 02:58:22.387000')
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 17ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1[0m
  [1m[35mSavepoint (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 593363170[0m
  [1m[35mSavepoint (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 15ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1[0m
  Rendered users/_fields.html.haml (10.0ms)
  Rendered users/_form.html.haml (17.0ms)
Completed 200 OK in 28ms (Views: 25.0ms | ActiveRecord: 0.0ms)
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 26ms (Views: 23.0ms | ActiveRecord: 1.0ms)
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (7.0ms)
  Rendered users/_form.html.haml (14.0ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1
  Rendered users/_user.html.haml (1.0ms)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 1.0ms)
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1[0m
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 02:58:20 UTC", "updated_at"=>"2013-10-30 02:58:20 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 593363170 LIMIT 1
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:46:in `process_removed_attributes'
	/Users/kevin/.rbenv/versions/jruby-1.7.6/lib/ruby/1.9/logger.rb:371:in `add'
	/Users/kevin/.rbenv/versions/jruby-1.7.6/lib/ruby/1.9/logger.rb:443:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:386:in `_run__1072049242__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:19:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `test_should_update_user'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `_run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:70:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:70:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `autorun'
  [1m[36mSavepoint (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "updated_at" = '2013-10-30 02:58:22.610000', "settings" = '---
:fb_share: true
:tw_share: true
' WHERE "users"."id" = 593363170
  [1m[36mSavepoint (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 23ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:06:49', '2013-10-30 03:06:49', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:06:49', '2013-10-30 03:06:49', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:06:49', '2013-10-30 03:06:49', 815823836)
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.9ms)
Completed 200 OK in 23ms (Views: 23.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:06:49 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (8.7ms)
  Rendered users/_form.html.haml (15.3ms)
Completed 200 OK in 52ms (Views: 50.9ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:06:49 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:06:49 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (2.1ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:06:49 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.5ms)
  Rendered users/_form.html.haml (3.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:06:49 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:06:49 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:06:49 UTC", "updated_at"=>"2013-10-30 03:06:49 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3997645150112944966__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (1.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:06:49 UTC", "updated_at"=>"2013-10-30 03:06:49 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3997645150112944966__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 03:06:49 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:07:21', '2013-10-30 03:07:21', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:07:21', '2013-10-30 03:07:21', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:07:21', '2013-10-30 03:07:21', 815823836)
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.6ms)
Completed 200 OK in 11ms (Views: 10.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:07:21 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (4.7ms)
  Rendered users/_form.html.haml (9.9ms)
Completed 200 OK in 39ms (Views: 38.6ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:07:21 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:07:21 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.6ms)
Completed 200 OK in 21ms (Views: 20.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:07:21 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.4ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:07:21 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:07:21 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:07:21 UTC", "updated_at"=>"2013-10-30 03:07:21 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__4400751153540044626__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.3ms)
  Rendered users/_form.html.haml (2.8ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (2.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:07:21 UTC", "updated_at"=>"2013-10-30 03:07:21 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__4400751153540044626__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 03:07:21 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:07:56', '2013-10-30 03:07:56', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:07:56', '2013-10-30 03:07:56', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:07:56', '2013-10-30 03:07:56', 815823836)
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.6ms)
Completed 200 OK in 11ms (Views: 11.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:07:56 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (5.2ms)
  Rendered users/_form.html.haml (11.8ms)
Completed 200 OK in 41ms (Views: 40.5ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:07:56 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:07:56 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 23ms (Views: 19.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:07:56 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.2ms)
  Rendered users/_form.html.haml (4.8ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:07:56 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:07:56 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:07:56 UTC", "updated_at"=>"2013-10-30 03:07:56 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3167242935184826842__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.3ms)
  Rendered users/_form.html.haml (2.8ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:07:56 UTC", "updated_at"=>"2013-10-30 03:07:56 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3167242935184826842__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 03:07:56 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:08:14', '2013-10-30 03:08:14', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:08:14', '2013-10-30 03:08:14', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:08:14', '2013-10-30 03:08:14', 815823836)
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.6ms)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:08:14 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (5.1ms)
  Rendered users/_form.html.haml (10.3ms)
Completed 200 OK in 39ms (Views: 38.3ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:08:14 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:08:14 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:08:14 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.5ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:08:14 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 2.5ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:08:14 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:08:14 UTC", "updated_at"=>"2013-10-30 03:08:14 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2514698921708730857__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:08:14 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (1.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:08:14 UTC", "updated_at"=>"2013-10-30 03:08:14 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2514698921708730857__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 03:08:15 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:10:44', '2013-10-30 03:10:44', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:10:44', '2013-10-30 03:10:44', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:10:44', '2013-10-30 03:10:44', 815823836)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:10:44 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (5.3ms)
  Rendered users/_form.html.haml (11.5ms)
Completed 200 OK in 40ms (Views: 39.8ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:10:44 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:10:44 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.3ms)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:10:44 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.6ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:10:44 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:10:44 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:10:44 UTC", "updated_at"=>"2013-10-30 03:10:44 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__4109391787418657403__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.3ms)
  Rendered users/_form.html.haml (2.9ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:10:44 UTC", "updated_at"=>"2013-10-30 03:10:44 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__4109391787418657403__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 03:10:44 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:12:27', '2013-10-30 03:12:27', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:12:27', '2013-10-30 03:12:27', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:12:27', '2013-10-30 03:12:27', 815823836)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (3.1ms)
Completed 200 OK in 14ms (Views: 13.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Wed, 30 Oct 2013 03:12:27 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:12:28 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (4.6ms)
  Rendered users/_form.html.haml (10.3ms)
Completed 200 OK in 41ms (Views: 40.5ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:12:28 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:12:28 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:12:28 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (3.7ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:12:28 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:12:28 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:12:27 UTC", "updated_at"=>"2013-10-30 03:12:27 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__4158020716848896942__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:12:27 UTC", "updated_at"=>"2013-10-30 03:12:27 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__4158020716848896942__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 03:12:28 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:14:11', '2013-10-30 03:14:11', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:14:11', '2013-10-30 03:14:11', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:14:11', '2013-10-30 03:14:11', 815823836)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:14:11 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (4.6ms)
  Rendered users/_form.html.haml (9.8ms)
Completed 200 OK in 39ms (Views: 38.3ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:14:11 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:14:11 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.4ms)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:14:11 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:14:11 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:14:11 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:14:11 UTC", "updated_at"=>"2013-10-30 03:14:11 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2897367839705304927__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.5ms)
  Rendered users/_form.html.haml (3.4ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (1.3ms)
  Rendered users/_form.html.haml (2.7ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:14:11 UTC", "updated_at"=>"2013-10-30 03:14:11 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2897367839705304927__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 03:14:11 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:16:16', '2013-10-30 03:16:16', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:16:16', '2013-10-30 03:16:16', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:16:16', '2013-10-30 03:16:16', 815823836)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["account_id", 593363171]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.5ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSubscription Load (0.1ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:16:16 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (4.2ms)
  Rendered users/_form.html.haml (9.4ms)
Completed 200 OK in 37ms (Views: 37.0ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:16:16 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:16:16 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:16:16 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.7ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:16:16 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:16:16 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:16:16 UTC", "updated_at"=>"2013-10-30 03:16:16 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2573132699801884056__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.4ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:16:16 UTC", "updated_at"=>"2013-10-30 03:16:16 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2573132699801884056__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 03:16:16 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:16:30', '2013-10-30 03:16:30', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:16:30', '2013-10-30 03:16:30', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:16:30', '2013-10-30 03:16:30', 815823836)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.5ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSubscription Load (0.0ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:16:30 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (4.3ms)
  Rendered users/_form.html.haml (9.2ms)
Completed 200 OK in 37ms (Views: 36.6ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:16:30 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:16:30 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.2ms)
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836[0m  [["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837[0m  [["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:16:30 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:16:30 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:16:30 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:16:30 UTC", "updated_at"=>"2013-10-30 03:16:30 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2098781269973062472__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.4ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.8ms)
  Rendered users/_form.html.haml (1.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:16:30 UTC", "updated_at"=>"2013-10-30 03:16:30 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2098781269973062472__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Wed, 30 Oct 2013 03:16:30 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:16:49', '2013-10-30 03:16:49', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:16:49', '2013-10-30 03:16:49', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:16:49', '2013-10-30 03:16:49', 815823836)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:16:49 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (4.9ms)
  Rendered users/_form.html.haml (12.4ms)
Completed 200 OK in 45ms (Views: 44.8ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:16:49 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:16:49 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.2ms)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:16:49 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (2.8ms)
  Rendered users/_form.html.haml (5.4ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.1ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:16:49 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:16:49 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:16:49 UTC", "updated_at"=>"2013-10-30 03:16:49 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1117046336869732615__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.5ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.1ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:16:49 UTC", "updated_at"=>"2013-10-30 03:16:49 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__1117046336869732615__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Wed, 30 Oct 2013 03:16:49 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:17:07', '2013-10-30 03:17:07', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:17:07', '2013-10-30 03:17:07', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:17:07', '2013-10-30 03:17:07', 815823836)
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.5ms)
Completed 200 OK in 11ms (Views: 10.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSubscription Load (0.0ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:17:07 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (5.8ms)
  Rendered users/_form.html.haml (34.5ms)
Completed 200 OK in 39ms (Views: 38.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:17:07 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:17:07 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------
UserTest: test_defaults
-----------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823836]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823836  [["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:17:07 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.7ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.1ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:17:07 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:17:07 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:17:07 UTC", "updated_at"=>"2013-10-30 03:17:07 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3641694302193223471__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.2ms)
  Rendered users/_form.html.haml (2.5ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.5ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.4ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:17:07 UTC", "updated_at"=>"2013-10-30 03:17:07 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3641694302193223471__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 03:17:07 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-10-30 03:17:19', '2013-10-30 03:17:19', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-10-30 03:17:19', '2013-10-30 03:17:19', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-10-30 03:17:19', '2013-10-30 03:17:19', 815823836)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["name", "Personal"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["account_id", 593363171]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.4ms)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSubscription Load (0.1ms)[0m  SELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1  [["user_id", 815823837]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["id", 815823837]]
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-29 20:17:19 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (5.7ms)
  Rendered users/_form.html.haml (32.7ms)
Completed 200 OK in 37ms (Views: 36.8ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:17:19 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:17:19 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (1.1ms)
Completed 200 OK in 16ms (Views: 15.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-29 20:17:19 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.1ms)
  Rendered users/_form.html.haml (2.6ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.1ms)
Started POST "/users" for 127.0.0.1 at 2013-10-29 20:17:19 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-29 20:17:19 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:17:19 UTC", "updated_at"=>"2013-10-30 03:17:19 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2082597003826447878__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Wed, 30 Oct 2013 03:17:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/815823837
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 593363170]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.3ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users"
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (0.9ms)
  Rendered users/_form.html.haml (2.1ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-10-30 03:17:19 UTC", "updated_at"=>"2013-10-30 03:17:19 UTC"}, "id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__2082597003826447878__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170[0m  [["updated_at", Wed, 30 Oct 2013 03:17:20 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "accounts"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "accounts" ("name", "created_at", "updated_at", "id") VALUES ('Awesome', '2013-11-01 06:31:10', '2013-11-01 06:31:10', 593363170)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "settings", "created_at", "updated_at", "id", "account_id") VALUES ('Kevin', 'info@example.com', '---
:fb_share: true
:tw_share: true
', '2013-11-01 06:31:10', '2013-11-01 06:31:10', 593363170, 593363170)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kevin', 'info@example.com', '2013-11-01 06:31:10', '2013-11-01 06:31:10', 815823836)
  [1m[36m (3.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_create
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00], ["name", "Personal"], ["updated_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00], ["settings", "---\n:tw_share: false\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAccount Load (0.1ms)[0m  [1mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = ? ORDER BY "accounts"."id" ASC LIMIT 1[0m  [["id", 593363171]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
AccountTest: test_accepts_nested_attributes_for_users_on_update
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "accounts" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00], ["name", "Personal"], ["updated_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)  [["account_id", 593363171], ["created_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."account_id" = ? ORDER BY "users"."id" ASC LIMIT 1  [["account_id", 593363171]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "account_id" = ?, "updated_at" = ?, "settings" = ? WHERE "users"."id" = 815823837  [["account_id", nil], ["updated_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00], ["settings", "--- {}\n"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("account_id", "created_at", "settings", "updated_at") VALUES (?, ?, ?, ?)[0m  [["account_id", 593363171], ["created_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00], ["settings", "---\n:tw_share: true\n:fb_share: false\n:tb_share: true\n"], ["updated_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
MainControllerTest: test_should_get_index
-----------------------------------------
Processing by MainController#index as HTML
  Rendered main/index.html.haml within layouts/application (1.9ms)
Completed 200 OK in 13ms (Views: 13.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
SerializerTest: test_serializer_is_a_module
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
SubscriptionTest: test_accepts_nested_attributes_from_belongs_to_side_of_association
------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "subscriptions" ("created_at", "updated_at", "user_id") VALUES (?, ?, ?)[0m  [["created_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00], ["updated_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00], ["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSubscription Load (0.1ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 815823837]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837  [["settings", "---\n:notifications: true\n"], ["updated_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 815823837]]
  [1m[36mSubscription Load (0.0ms)[0m  [1mSELECT "subscriptions".* FROM "subscriptions" WHERE "subscriptions"."user_id" = ? ORDER BY "subscriptions"."id" ASC LIMIT 1[0m  [["user_id", 815823837]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:notifications: false\n"], ["updated_at", Fri, 01 Nov 2013 06:31:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823837]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------
UserCreateTest: test_create_user
--------------------------------
Started GET "/users/new" for 127.0.0.1 at 2013-10-31 23:31:10 -0700
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (7.2ms)
  Rendered users/_form.html.haml (13.8ms)
Completed 200 OK in 20ms (Views: 19.9ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Started POST "/users" for 127.0.0.1 at 2013-10-31 23:31:11 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"false"}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-31 23:31:11 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (2.0ms)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserTest: test_a_missing_default
--------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------
UserTest: test_a_missing_type
-----------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_configuring_array_and_hash_attributes
----------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_string_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["email", "alpha@example.com"], ["name", "Alpha"], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["email", "omega@example.com"], ["name", "Omega"], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UserTest: test_configuring_symbol_attributes
--------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------
UserTest: test_defaults
-----------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_falsify_then_truthify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------
UserTest: test_missing_settings
-------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 815823836]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823836[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_truthify_then_falsify_attributes
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["email", "kevin@example.com"], ["name", "Kevin"], ["settings", "---\n:fb_share: true\n:tw_share: true\n:tb_share: true\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "settings" = ?, "updated_at" = ? WHERE "users"."id" = 815823837[0m  [["settings", "---\n:fb_share: false\n:tw_share: false\n:tb_share: false\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------
UserUpdateTest: test_update_user
--------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Started GET "/users/593363170/edit" for 127.0.0.1 at 2013-10-31 23:31:11 -0700
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.4ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2013-10-31 23:31:11 -0700
Processing by UsersController#create as HTML
  Parameters: {"name"=>"Kevin", "email"=>"info@example.com", "fb_share"=>"0", "tw_share"=>"0", "tb_share"=>"true"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "settings", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/815823837
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/users/815823837" for 127.0.0.1 at 2013-10-31 23:31:11 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"815823837"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "815823837"]]
  Rendered users/_user.html.haml (0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-11-01 06:31:10 UTC", "updated_at"=>"2013-11-01 06:31:10 UTC"}}
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/attribute_assignment.rb:58:in `assign_attributes'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/core.rb:16:in `initialize'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	activerecord (4.0.0) lib/active_record/inheritance.rb:27:in `new'
	protected_attributes (1.0.3) lib/active_record/mass_assignment_security/persistence.rb:45:in `create'
	app/controllers/users_controller.rb:35:in `create'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3705253993169237033__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:475:in `post'
	test/functional/users_controller_test.rb:24:in `block (2 levels) in <class:UsersControllerTest>'
	activesupport (4.0.0) lib/active_support/testing/assertions.rb:71:in `assert_difference'
	test/functional/users_controller_test.rb:23:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "email", "name", "settings", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["email", "info@example.com"], ["name", "Kevin"], ["settings", "--- {}\n"], ["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/815823837
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 593363170]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"593363170"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "593363170"]]
  Rendered users/_fields.html.haml (1.3ms)
  Rendered users/_form.html.haml (2.9ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users"[0m
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 593363170]]
Processing by UsersController#new as HTML
  Rendered users/_fields.html.haml (1.0ms)
  Rendered users/_form.html.haml (2.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
  Rendered users/_user.html.haml (0.3ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 593363170]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"id"=>"593363170", "account_id"=>"593363170", "name"=>"Kevin", "email"=>"info@example.com", "settings"=>{"fb_share"=>true, "tw_share"=>true}, "created_at"=>"2013-11-01 06:31:10 UTC", "updated_at"=>"2013-11-01 06:31:10 UTC"}, "id"=>"593363170"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "593363170"]]
WARNING: Can't mass-assign protected attributes for User: id, account_id, settings, created_at, updated_at
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:47:in `block in process_removed_attributes'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:376:in `add'
	/Users/kevin/.rbenv/versions/2.0.0-p247/lib/ruby/2.0.0/logger.rb:447:in `warn'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:45:in `process_removed_attributes'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security/sanitizer.rb:10:in `sanitize'
	protected_attributes (1.0.3) lib/active_model/mass_assignment_security.rb:346:in `sanitize_for_mass_assignment'
	activerecord (4.0.0) lib/active_record/attribute_assignment.rb:21:in `assign_attributes'
	app/controllers/users_controller.rb:43:in `update'
	actionpack (4.0.0) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:189:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
	activesupport (4.0.0) lib/active_support/callbacks.rb:383:in `_run__3705253993169237033__process_action__callbacks'
	activesupport (4.0.0) lib/active_support/callbacks.rb:80:in `run_callbacks'
	actionpack (4.0.0) lib/abstract_controller/callbacks.rb:17:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `block in instrument'
	activesupport (4.0.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
	activesupport (4.0.0) lib/active_support/notifications.rb:159:in `instrument'
	actionpack (4.0.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
	actionpack (4.0.0) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
	activerecord (4.0.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
	actionpack (4.0.0) lib/abstract_controller/base.rb:136:in `process'
	actionpack (4.0.0) lib/abstract_controller/rendering.rb:44:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:569:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:64:in `process'
	actionpack (4.0.0) lib/action_controller/test_case.rb:487:in `put'
	test/functional/users_controller_test.rb:41:in `block in <class:UsersControllerTest>'
	minitest (4.7.5) lib/minitest/unit.rb:1258:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:933:in `block in _run_suite'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `map'
	minitest (4.7.5) lib/minitest/unit.rb:926:in `_run_suite'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `block in _run_suites'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `map'
	minitest (4.7.5) lib/minitest/parallel_each.rb:71:in `_run_suites'
	minitest (4.7.5) lib/minitest/unit.rb:877:in `_run_anything'
	minitest (4.7.5) lib/minitest/unit.rb:1085:in `run_tests'
	minitest (4.7.5) lib/minitest/unit.rb:1072:in `block in _run'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `each'
	minitest (4.7.5) lib/minitest/unit.rb:1071:in `_run'
	minitest (4.7.5) lib/minitest/unit.rb:1059:in `run'
	minitest (4.7.5) lib/minitest/unit.rb:795:in `block in autorun'
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "updated_at" = ?, "settings" = ? WHERE "users"."id" = 593363170  [["updated_at", Fri, 01 Nov 2013 06:31:11 UTC +00:00], ["settings", "---\n:fb_share: true\n:tw_share: true\n"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/593363170
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  rollback transaction
